
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>FeedBack</title>
</head>

<body>

<header class="header">
  <nav class="navbar navbar-expand-lg fixed-top py-3">
      <div class="container"><a href="#" class="navbar-brand text-uppercase font-weight-bold">FeedBack</a>
          <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right"><i class="fa fa-bars"></i></button>
          
          <div id="navbarSupportedContent" class="collapse navbar-collapse">
              <ul class="navbar-nav ml-auto">
                  <li class="nav-item active"><a href="#" class="nav-link text-uppercase font-weight-bold">Home <span class="sr-only">(current)</span></a></li>
                  <li class="nav-item"><a href="#" class="nav-link text-uppercase font-weight-bold">Equipe</a></li>
                  <li class="nav-item"><a href="#" class="nav-link text-uppercase font-weight-bold">Developpement durable</a></li>
                  <li class="nav-item"><a href="#" class="nav-link text-uppercase font-weight-bold">Greta's 06</a></li>
              </ul>
          </div>
      </div>
      </div>
  </nav>
  <div style="background: url(https://bootstrapious.com/i/snippets/sn-static-header/background.jpg)" class="jumbotron bg-cover text-white">
    <div class="container py-5 text-center">
        <h1 class="display-4 font-weight-bold">FeedBack</h1>
        <p class="font-italic mb-0">Compare, re&#xE7;ois les meilleurs avis, but don't stole my dream </p>
        <br>
        <a href="#" role="button" class="btn btn-primary px-5">See All Features</a>
    </div>
</header>





<!-- <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
<script src="like_button.js"></script> -->



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>



<!--Poster une comparaison-->

<div class="container">

  <h2>Poster une comparaison</h2>

  <div class="row">

    <div class="col-sm">
      <form>
        <div class="form-group">
          <label for="Titre">Titre : </label>
          <input type="text" class="form-control" id="Titre" aria-describedby="emailHelp" placeholder="Titre" name="Titre">
          <small id="emailHelp" class="form-text text-muted">Donner un titre clair maximise le nombre de feed backs !</small>
        </div>
        <div class="form-group">
          <label for="Contenue1">Contenue1 :</label>
          <input type="text" class="form-control" id="Contenue1" placeholder="Le contenue osef on mettra plus de truc après">
        </div>
        <div class="form-group">
          <label for="Contenue2">Contenue2 :</label>
          <input type="text" class="form-control" id="Contenue2" placeholder="Le contenue osef on mettra plus de truc après">
        </div>

        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="exampleCheck1">
          <label class="form-check-label" for="Contenue2">je confirme que je possède les droits d'auteurs de mon contenue</label>
        </div>
        <button type="submit" class="btn btn-primary" onclick="postComparaison()"> Poster la comparaison </button>
      </form>

      </div></div></div>

<!-- Liker une comparaison -->
<div id="like_button_container" ></div>
<script src="like_button.js"></script>
<!--
  L'ancien formulaire, a ne pas supprimer avant que on est bien testé celui du dessus 
<form action="/ma-page-de-traitement" method="post">
    <div>
        <label for="Titre">Titre :</label>
        <input type="text" id="Titre" name="Titre">
    </div>
    <div>
        <label for="Contenue1">Contenue1 :</label>
        <input type="text" id="Contenue1" name="Contenue1">
    </div>
    <div>
        <label for="Contenue2">Contenue2 :</label>
        <input type="text" id="Contenue2" name="Contenue2">
    </div> 
</form>

<input class="favorite styled" type="button" value="Poster la comparaison", onclick="postComparaison()">
-->


<script>
  // il vaudrait mieux mettre le script dans un autre fichier

function postComparaison(){

console.log("Titre : " + document.getElementById("Titre").value);
console.log(document.getElementById("Contenue1").value);
console.log(document.getElementById("Contenue2").value);

var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({
  "_id": "5",
  "id_User": "2",
  "PseudoUser": "nokiki",
  "Date": "08/03/1997",
  "Titre" :  document.getElementById("Titre").value,
  "Contenue1": document.getElementById("Contenue1").value,
  "Contenue2": document.getElementById("Contenue2").value,
  "Description": "Je cherche a trouver une photo facebook ki met en avant mes pek"
});

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("http://localhost:3000/comparaison", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));}
</script>

<script>
  // Recupération du contenue de la BDD
  function getComparaison(){
  
      var requestOptions = {
method: 'GET',
redirect: 'follow'
};

fetch("http://localhost:3000/comparaison", requestOptions)
.then(response => response.text())
.then(result => document.getElementById("textRepBDD").innerHTML = result)
.catch(error => console.log('error', error));
}
  
</script>


<div class="container">
<div class="row">
  <div class="col-m-2">

<!--afficher la base de donnée-->
<h1>Contenue de la base de données</h1>

<input class="favorite styled" type="button" value="Afficher toute la base en moche", onclick="getComparaison()">
<h2 id = "textRepBDD"> rep</h2>

</div>
</div>
</div>




<div></div>
<div></div>
<div></div>

<!--Afficher juste une comparaison en fonction d'un indice-->

<div class="container">
<div class="row">
  <div class="col-m-2">

<form action="/ma-page-de-traitement" method="post">
  <div>
      <label for="Id">id :</label>
      <input type="number" id="Id_input" name="Id">
  </div>

</form>


<input class="favorite styled" type="button" value="Afficher le titre d'une comparaison", onclick="getComparaisonId()">

<h2 id = "textRepBDD_ID"> </h2>
</div>
</div>
</div>



<script>
  // Recupération du contenue de la BDD mais juste avec un indice.
  function getComparaisonId(){
  
      var requestOptions = {
method: 'GET',
redirect: 'follow'
};

fetch("http://localhost:3000/comparaison/" + document.getElementById("Id_input").value, requestOptions)
.then(response => response.text())
.then(result => document.getElementById("textRepBDD_ID").innerHTML = JSON.parse(result).Titre)
.catch(error => console.log('error', error));
}
</script>



<!--
  Continuer cette fonction : ajout d'un for pour print le contenue de la base
<script>
  function afficherTousTitres(){
    for (let pas = 0; pas < 3; pas++) {
      
  var requestOptions = {
  method: 'GET',
  redirect: 'follow'
};

fetch("http://localhost:3000/comparaison", requestOptions)
  .then(response => response.text())
  .then(result => document.getElementById("textRepBDD").innerHTML = result)
  .catch(error => console.log('error', error));

}
  }
  </script>
-->


<!--Nouvel essais pour afficher toute la base de données den jolie-->


<section class = get>
<h3>Get data</h3>
<a href="/comparaison/getData">Charger les data</a>
<div>
{{# each items }}
<article class = items>
<div> {{this.Title}} </div>
</article>

{{/each}}

</div>

</section>


</body>
</html>